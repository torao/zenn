---
title: "5åˆ†ã§è«–æ–‡ç•¥èª­: AT2: Asynchronous Trustworthy Transfers (2019)"
emoji: "ðŸ›‹ï¸"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["åˆ†æ•£ã‚·ã‚¹ãƒ†ãƒ ","BFT","Blocchain"]
published: true
---

# AT2: Asynchronous Trustworthy Transfers

Bitcoin ã®ã‚ˆã†ãªæš—å·è³‡ç”£ã®åˆ†æ•£åž‹è³‡ç”£ç§»è»¢ã‚·ã‚¹ãƒ†ãƒ ã®æ ¸å¿ƒã¯ã€ãƒ“ã‚¶ãƒ³ãƒãƒ³æ•…éšœã¨éžåŒæœŸãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚’å«ã‚€ P2P ã®è¨­å®šã§ã‚ã‚ŠãªãŒã‚‰äºŒé‡æ”¯æ‰•å•é¡Œã‚’è§£æ±ºã—ãŸã“ã¨ã§ã‚ã‚‹ã€‚ã“ã®ã‚ˆã†ãªåˆ†æ•£ç§»è»¢ã«ã‚³ãƒ³ã‚»ãƒ³ã‚µã‚¹æ©Ÿæ§‹ãŒå¿…é ˆã ã¨è€ƒãˆã‚‰ã‚Œã¦ããŸãŒã€ãã®é€šèª¬ã¯é–“é•ã„ã§ã‚ã‚‹ã€ã¨ã“ã®è«–æ–‡ã§ã¯è¿°ã¹ã¦ã„ã‚‹ã€‚ãã—ã¦ AT2 ã¯ãã‚Œã‚’å®Ÿç¾ã™ã‚‹ãŸã‚ã®ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã§ã‚ã‚‹ã€‚ãƒ‡ãƒ¼ã‚¿ã‚»ãƒ³ã‚¿ãƒ¼ã®ã‚ˆã†ãªãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆ (permissioned) ã¨ Bitcon ã®ã‚ˆã†ãªãƒ‘ãƒ–ãƒªãƒƒã‚¯ (permissionless) ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯å‘ã‘ã®ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ãŒèª¬æ˜Žã•ã‚Œã¦ã„ã‚‹ã€‚

## ã‚³ãƒ³ã‚»ãƒ³ã‚µã‚¹ä¸è¦è«–

ã“ã®è«–æ–‡ã§å°è±¡æ·±ã„è©±é¡Œã¯ç¹°ã‚Šè¿”ã—è¿°ã¹ã‚‰ã‚Œã‚‹ã‚³ãƒ³ã‚»ãƒ³ã‚µã‚¹ä¸è¦è«–ã ã‚ã†ã€‚ãã®è€ƒãˆæ–¹ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ç•¥è¿°ã§ãã‚‹ã€‚

**äºŒé‡æ”¯æ‰•å•é¡Œ** (double spending): ä¸€è²«æ€§ (consistency) ã®ãªã„åˆ†æ•£ã‚·ã‚¹ãƒ†ãƒ ã§ã¯ç•°ãªã‚‹ãƒŽãƒ¼ãƒ‰ãŒç•°ãªã‚‹çŠ¶æ…‹ã‚’æŒã¤ã“ã¨ãŒã§ãã‚‹ã€‚ä¾‹ãˆã°é‡‘èžã‚·ã‚¹ãƒ†ãƒ ã§ã€ãƒŽãƒ¼ãƒ‰ $X$ ãŒæ®‹é«˜ 100 ä¸‡å††ã®å£åº§ $A$ ã‹ã‚‰åˆ¥ã®å£åº§ $B$ ã« 80 ä¸‡å††ã‚’ç§»å‹•ã—ãŸã¨ã™ã‚‹ã€‚ã—ã‹ã—ãã®æ‰‹ç¶šããŒã‚ã£ãŸã“ã¨ã‚’ã¾ã çŸ¥ã‚‰ãªã„åˆ¥ã®ãƒŽãƒ¼ãƒ‰ $Y$ ã§ã¯ $A$ ã®æ®‹é«˜ã¯ 100 ä¸‡å††ã«è¦‹ãˆã¦ã„ã‚‹ãŸã‚åˆ¥ã® 60 ä¸‡å††ã®é€é‡‘ã‚’æˆåŠŸã•ã›ã¦ã—ã¾ã†ã‹ã‚‚ã—ã‚Œãªã„ã€‚ä¸€èˆ¬ã«ã“ã®ã‚ˆã†ãªäºŒé‡æ”¯æ‰•å•é¡Œã‚’é˜²ãã«ã¯ã‚·ã‚¹ãƒ†ãƒ ã«å¼·ã„ä¸€è²«æ€§ (=ã‚³ãƒ³ã‚»ãƒ³ã‚µã‚¹ã€åˆ†æ•£åˆæ„ã€å…¨é †åº) ã‚’å°Žå…¥ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚

ã—ã‹ã—è³‡ç”£ç§»è»¢ã«ç‰¹åŒ–ã™ã‚Œã°é”æˆã™ã¹ãåˆ¶ç´„ã¯ã€Œå£åº§ã®æ®‹é«˜ãŒãƒžã‚¤ãƒŠã‚¹ã«ãªã‚‰ãªã„ã“ã¨ã€ã ã‘ã§ã‚ã‚‹ã€‚ãã—ã¦ã€ä¸€èˆ¬ã«é€é‡‘ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã‚’ç”Ÿæˆã™ã‚‹è¨±å¯ã‚’æŒã£ã¦ã„ã‚‹ã®ã¯å£åº§ã®æ‰€æœ‰è€…ã ã‘ã§ã‚ã‚‹ã€‚ã¤ã¾ã‚Šã€å£åº§ã‚„å£åº§ã®æ‰€æœ‰è€…ãŒå”¯ä¸€ã‹ã¤ä¸€æ„ã§ã‚ã‚Œã°ã€å£åº§ã”ã¨ã«"happened before" ã§å› æžœé †åºä»˜ã‘ã•ã‚ŒãŸã®é€é‡‘ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã®å±¥æ­´ã‚’ä¿æŒã™ã‚Œã°ååˆ†ã§ ("å£åº§æ‰€æœ‰è€…" ã«ã‚ˆã£ã¦ç›´åˆ—åŒ–ã§ãã‚‹ã¯ãšãªã®ã§)ã€ãã‚Œã‚’å®Ÿç¾ã™ã‚‹ãŸã‚ã«ã¯éžåŒæœŸãƒ–ãƒ­ãƒ¼ãƒ‰ã‚­ãƒ£ã‚¹ãƒˆ (+ å› æžœä¸€è²«æ€§ã®è€ƒãˆ) ã®ã¿ãŒã‚ã‚Œã°ã‚ˆãã€ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã®åˆ†æ•£åˆæ„ã‚„å…¨é †åºæ€§ã‚’ä¿è¨¼ã™ã‚‹ã‚ˆã†ãªã‚³ãƒ³ã‚»ãƒ³ã‚µã‚¹ã¯å¿…è¦ãªã„ã€ã¨ã„ã†ã®ãŒã“ã®è«–æ–‡ã®æ ¹æœ¬ã«ã‚ã‚‹ã€‚ã¾ã‚ã€ç¾å®Ÿã®å–å¼•ã§ã¯é€é‡‘ã«å¿…è¦ãªå…¥é‡‘ãŒã‚ã‚‹ã¾ã§é€é‡‘ã‚’å¾…ã¤ã‚ˆã†ãªå‹•ä½œã‚‚å¿…è¦ãã†ãªã®ã§å°‘ã—è’ã£ã½ã„æ°—ã¯ã™ã‚‹ãŒã€æ¦‚ã­ç†è§£ã§ãã‚‹ç¯„å›²ã¨è¨€ãˆã‚‹ã€‚

éžåŒæœŸãƒ–ãƒ­ãƒ¼ãƒ‰ã‚­ãƒ£ã‚¹ãƒˆãŒã“ã®ã‚ˆã†ãªè³‡ç”£ç§»è»¢ã«åˆ©ç”¨ã§ãã‚‹ã¨ã„ã†æ´žå¯Ÿã¯ Padone ã¨ Schiper (2002) ã§ç¤ºå”†ã•ã‚Œã€Gupta (2016) ã§ AT2 ã¨åŒã˜ã‚ˆã†ãªè³‡ç”£ç§»è»¢ã‚’å°Žå…¥ã—ãŸã¨ã‚»ã‚¯ã‚·ãƒ§ãƒ³ 7.2 ã§è¿°ã¹ã¦ã„ã‚‹ã€‚å®Ÿéš›ã€Byteball ã®ã‚ˆã†ãª DAG åž‹ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³ã§ãƒ¦ãƒ¼ã‚¶ã”ã¨ã®å‡¦ç†é †åºä¿è¨¼ã¯ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®è²¬å‹™ã¨ã—ã¦ã„ã‚‹ã®ã‚‚æ ¹æœ¬ã¯åŒã˜è€ƒãˆã¨è¨€ãˆã‚‹ (ãŸã æ—¢å­˜ã® DAG åž‹ã¯æœ€çµ‚çš„ã«ã‚³ãƒ³ã‚»ãƒ³ã‚µã‚¹ã§å…¨é †åºã‚’ä½œã‚Šå‡ºã—ã¦ã„ã‚‹ãŒ)ã€‚ã¾ãŸ Stellar Consensus ã®æ§‹æˆã‚‚ãƒ–ãƒ­ãƒ¼ãƒ‰ã‚­ãƒ£ã‚¹ãƒˆ + éš£æŽ¥ãƒŽãƒ¼ãƒ‰ã¨ã®åˆæ„ã®ã¿ãªã®ã§ AT2 ã¨ä¼¼ãŸã¨ã“ã‚ãŒå¤šã„ã‚ˆã†ã«è¦‹ãˆã‚‹ã€‚

## ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ 

åŸºæœ¬çš„ã«ã€éžåŒæœŸãƒ–ãƒ­ãƒ¼ãƒ‰ã‚­ãƒ£ã‚¹ãƒˆã¨ã€ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã”ã¨ã« Version Clock ã‚„ Version Vector ã®ã‚ˆã†ãªå› æžœä¸€è²«æ€§ã®å±¥æ­´ã®ç®¡ç†ã§æ§‹æˆã•ã‚Œã¦ã„ã‚‹ã€‚ã‚¢ã‚«ã‚¦ãƒ³ãƒˆå˜ä½ã®å±¥æ­´ãªã®ã§ Vector Clock ã®ã‚ˆã†ã«è¤‡é›‘ã«ã¯ãªã‚‰ãªã„ã¨ã¯æ€ã†ãŒã€‚ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã®èª¬æ˜Žã¯é•·ããªã‚‹ã®ã§è«–æ–‡å‚ç…§ã€‚

è«–æ–‡ã§ã¯ AT2 ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã‚’ 4 ç¨®é¡žã®ãƒãƒªã‚¢ãƒ³ãƒˆã§èª¬æ˜Žã—ã¦ã„ã‚‹ (ã—ãŸãŒã£ã¦è«–æ–‡å…¨ä½“ã®æ–‡é‡ãŒå¤šã„)ã€‚ãã‚Œãžã‚Œã¯ãƒ–ãƒ­ãƒ¼ãƒ‰ã‚­ãƒ£ã‚¹ãƒˆç‰¹æ€§ (é€šä¿¡ç‰¹æ€§) ã®é•ã„ãŒå¤§ããã€æ ¹æœ¬èª¬æ˜Žã‚„è¨¼æ˜Žã¯ä¼¼ã¦ã„ã‚‹ã€‚

1. ${\sf AT2_{SM}}$: ãƒ—ãƒ­ã‚»ã‚¹ãŒ read/write å¯èƒ½ãªå…±æœ‰ãƒ¡ãƒ¢ãƒªã‚’ä½¿ã£ã¦è³‡ç”£ç§»è»¢ã‚’éžåŒæœŸã§å®Ÿè¡Œã™ã‚‹ wait-free ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã€‚ã“ã‚Œã¯ consensus number = 1 ã‚’é”æˆã—ã¦ã„ã‚‹ã€‚
2. ${\sf AT2_{MP}}$: 1/3 ã¾ã§ã®ãƒ“ã‚¶ãƒ³ãƒãƒ³æ•…éšœã‚’è¨±å®¹ã™ã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒ‘ãƒƒã‚·ãƒ³ã‚°ãƒ¢ãƒ‡ãƒ«ã§ã®æ±Žç”¨éžåŒæœŸã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã€‚
3. ${\sf AT2_{D}}$: ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ / permissioned å‘ã‘ã«æ•°åï½žæ•°ç™¾ãƒŽãƒ¼ãƒ‰ã‚’æƒ³å®šã—ãŸæ±ºå®šè«–çš„ (deterministic) éžåŒæœŸã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã€‚
4. ${\sf AT2_{P}}$: ãƒ‘ãƒ–ãƒªãƒƒã‚¯ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ / permissionless å‘ã‘ã«æ•°ä¸‡ãƒŽãƒ¼ãƒ‰ã«ã‚¹ã‚±ãƒ¼ãƒ«ã—ã€å¯¾æ•°ã‚ªãƒ¼ãƒ€ãƒ¼ã®å¾…ã¡æ™‚é–“ã¨é€šä¿¡è¤‡é›‘æ€§ã‚’æŒã¤ç¢ºçŽ‡çš„ (probabilistic) éžåŒæœŸã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã€‚

${\sf AT2_D}$ ã§ã®å®‰å…¨ãªãƒ–ãƒ­ãƒ¼ãƒ‰ã‚­ãƒ£ã‚¹ãƒˆã¯ Malkhi ã¨ Reiter (1997) ã‚’ä½¿ç”¨ã—ã€${\sf AT2_P}$ ã§ã¯ç¢ºçŽ‡çš„ãƒ–ãƒ­ãƒ¼ãƒ‰ã‚­ãƒ£ã‚¹ãƒˆã¯ ErdÃ¶s-RÃ©nyi Gossip ã®ä¸€è²«æ€§ã€å®‰å…¨æ€§ã‚’ä¿è¨¼ã™ã‚‹ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ä½¿ç”¨ã™ã‚‹ã¨æ›¸ã‹ã‚Œã¦ã„ã‚‹ã€‚

## ã‚³ãƒ³ã‚»ãƒ³ã‚µã‚¹ãƒ¬ã‚¹ã®é•·æ‰€

ã‹ãªã‚Šæ ¹æœ¬ã®å‰æãŒå¤–ã‚Œã‚‹ã®ã§ã‚¹ãƒžãƒ¼ãƒˆã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã®ã‚ˆã†ãªã“ã¨ã¯ã§ããªããªã‚‹åé¢ã€ç›´æ„Ÿã¨ã—ã¦ã‚·ã‚¹ãƒ†ãƒ çš„ã«ã†ã‚Œã—ã„ã“ã¨ãŒå¤šã„ã‚ˆã†ã«æ€ãˆã‚‹ã€‚

- ã‚³ãƒ³ã‚»ãƒ³ã‚µã‚¹ã®ãŸã‚ã« PoW, BFT, Paxos ã®ã‚ˆã†ãªé‡ãè¤‡é›‘ãªåˆ†æ•£åˆæ„ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã‚’ä½¿ã‚ãªãã¦è‰¯ã„ã€‚
- éžåŒæœŸç’°å¢ƒã§ã‚‚ FLP Impossibility ã®å½±éŸ¿ã‚’å—ã‘ãªããªã‚‹ã®ã§ (â†ãƒžã‚¸ãã†ã ã‚)ã€ãã®å¯¾ç­–ã§ãƒ©ãƒ³ãƒ€ãƒ ã•ã‚„ãƒ©ãƒ³ãƒ€ãƒ ã•ã‚’ä¿è¨¼ã™ã‚‹ãŸã‚ã®é‡ã„æš—å·å‡¦ç†ã€ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆæ©Ÿæ§‹ãªã©ã‚’å°Žå…¥ã™ã‚‹å¿…è¦ãŒãªã„ã€‚
- åˆæ„ã®ãŸã‚ã« n=3f+1 ã®ã‚ˆã†ãªé™çš„ãªå®šè¶³æ•°ã®å§”å“¡ä¼šã‚’é¸å‡ºã™ã‚‹å¿…è¦ãŒãªã„ã€‚
- éžåŠ¹çŽ‡æ€§ã‚’è§£æ¶ˆã™ã‚‹ãŸã‚ã®ã‚·ãƒ£ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã®ã‚ˆã†ãªä»•çµ„ã¿ã‚‚å¿…è¦ãªã„ã€‚

åŠ¹æžœã¯ BFT-SMaRt ã¨æ¯”ã¹ã¦ 1.5ï½ž6å€ã®ã‚¹ãƒ«ãƒ¼ãƒ—ãƒƒãƒˆã€æœ€å¤§ 2 å€ã®ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·ãƒ¼ä½Žæ¸›ã‚‰ã—ã„ã€‚

## Sybil æ”»æ’ƒè€æ€§

ä»–ã®ã»ã¨ã‚“ã©ã®æˆ¦ç•¥ã§ã¯ Sybil æ”»æ’ƒè€æ€§ã®ãŸã‚ã« PoW ã¨ã„ã£ãŸæ¤œè¨¼å¯èƒ½ãªè¨¼æ˜Žã«åŸºã¥ã„ã¦ã„ã‚‹ã®ã«å¯¾ã—ã¦ã€AT2 ã§ã¯æ‰€æœ‰è€…ã®ä¸€æ„æ€§ã‚’å‰æã¨ã—ã¦ã„ã‚‹ãŸã‚ã€A â†’ B ã®æŽ¥ç¶šä¸Šã§å®šæœŸçš„ã«ãƒ‡ãƒ¼ã‚¿ (ping?) ã‚’é€ã‚‹ã“ã¨ã§ A ãŒæœ¬ç‰©ã§ã‚ã‚‹ã“ã¨ã‚’ä¿è¨¼ã™ã‚‹ã“ã¨ã§ååˆ†ã¨ã®ã“ã¨ (Proof-of-bandwidth ã¨å‘¼ã¶ã‚‰ã—ã„)ã€‚

> GUERRAOUI, Rachid, et al. [AT2: asynchronous trustworthy transfers](https://arxiv.org/abs/1812.10844).Â _arXiv preprint arXiv:1812.10844_, 2018.